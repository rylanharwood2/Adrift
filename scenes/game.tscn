[gd_scene load_steps=17 format=3 uid="uid://w7l1bj0mh51e"]

[ext_resource type="PackedScene" uid="uid://b327nj58ktob7" path="res://scenes/player.tscn" id="1_13bel"]
[ext_resource type="Script" uid="uid://de44gtnt4kvb3" path="res://scripts/game.gd" id="1_p1si3"]
[ext_resource type="Texture2D" uid="uid://cu2f12nna4e61" path="res://assets/sprites/environment/stary_sky.png" id="3_vb2cv"]
[ext_resource type="Texture2D" uid="uid://iofww4h8ovh8" path="res://assets/sprites/environment/planets.png" id="4_x4fr3"]
[ext_resource type="PackedScene" uid="uid://nsua5t72inru" path="res://scenes/camera.tscn" id="6_uo2vg"]
[ext_resource type="PackedScene" uid="uid://chtfsxrptqxc" path="res://scenes/main_menu_ui.tscn" id="7_ir15t"]
[ext_resource type="PackedScene" uid="uid://baf7exhdloebg" path="res://scenes/health_overlay_ui.tscn" id="7_sxbnq"]
[ext_resource type="PackedScene" uid="uid://d3epp5wxoh4mn" path="res://scenes/highscore_menu.tscn" id="7_trtic"]
[ext_resource type="AudioStream" uid="uid://dvq2d8dai8kry" path="res://assets/sfx/Game music 2.mp3" id="10_cg0uc"]
[ext_resource type="Script" uid="uid://bb3qo4yasb62a" path="res://scripts/joystick.gd" id="13_kvuet"]
[ext_resource type="Script" uid="uid://b2186vav488pa" path="res://scripts/touch_buttons.gd" id="14_trtic"]

[sub_resource type="Curve2D" id="Curve2D_e5dhq"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -896, -568, 0, 0, 0, 0, 888, -568, 0, 0, 0, 0, 888, 496, 0, 0, 0, 0, -896, 496, 0, 0, 0, 0, -896, -568)
}
point_count = 5

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4j1mg"]
size = Vector2(26.2023, 0.956628)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_occl0"]
size = Vector2(206.389, 2.83333)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_muc02"]
size = Vector2(100010, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kxjjc"]
size = Vector2(1619, 0.999969)

[node name="Game" type="Node2D" groups=["game"]]
script = ExtResource("1_p1si3")
startup_pause_sec = 6
wave_cooldown_sec = 2

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="star_sky" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(117, 72)
motion_scale = Vector2(0.3, 0.3)

[node name="star_sky_sprite" type="Sprite2D" parent="ParallaxBackground/star_sky"]
position = Vector2(-799, -470)
texture = ExtResource("3_vb2cv")
centered = false

[node name="planets" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(119, 72)
motion_scale = Vector2(0.5, 0.5)

[node name="planets_sprite" type="Sprite2D" parent="ParallaxBackground/planets"]
position = Vector2(-786, -470)
texture = ExtResource("4_x4fr3")
centered = false

[node name="Camera" parent="." instance=ExtResource("6_uo2vg")]
zoom = Vector2(1.2, 1.2)

[node name="Player" parent="." instance=ExtResource("1_13bel")]
unique_name_in_owner = true

[node name="menus" type="Node" parent="."]

[node name="HUD" parent="menus" instance=ExtResource("7_sxbnq")]

[node name="main_menu_ui" parent="menus" instance=ExtResource("7_ir15t")]

[node name="highscore_menu" parent="." instance=ExtResource("7_trtic")]

[node name="enemy_spawn_points" type="Node" parent="."]

[node name="suicune_spawn_path" type="Path2D" parent="enemy_spawn_points"]
curve = SubResource("Curve2D_e5dhq")

[node name="spawn_location" type="PathFollow2D" parent="enemy_spawn_points/suicune_spawn_path"]
position = Vector2(-896, -568)

[node name="world_boundries" type="Node" parent="."]

[node name="StaticBody2D" type="StaticBody2D" parent="world_boundries"]
collision_mask = 0

[node name="bottom" type="CollisionShape2D" parent="world_boundries/StaticBody2D"]
position = Vector2(7, 463.24)
scale = Vector2(73.4287, 2.59172)
shape = SubResource("RectangleShape2D_4j1mg")
one_way_collision = true

[node name="left" type="CollisionShape2D" parent="world_boundries/StaticBody2D"]
position = Vector2(-803, 2)
rotation = 1.5708
scale = Vector2(9, 9)
shape = SubResource("RectangleShape2D_occl0")
one_way_collision = true

[node name="right" type="CollisionShape2D" parent="world_boundries/StaticBody2D"]
position = Vector2(821, -46)
rotation = -1.5708
scale = Vector2(-0.0167095, 1.41319)
shape = SubResource("RectangleShape2D_muc02")
one_way_collision = true

[node name="top" type="CollisionShape2D" parent="world_boundries/StaticBody2D"]
position = Vector2(5.5, -485.5)
rotation = 3.14159
shape = SubResource("RectangleShape2D_kxjjc")
one_way_collision = true

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_cg0uc")
autoplay = true
bus = &"Music"

[node name="JoystickLayer" type="CanvasLayer" parent="."]
offset = Vector2(-80, -80)
transform = Transform2D(1, 0, 0, 1, -80, -80)

[node name="Control" type="Control" parent="JoystickLayer"]
layout_mode = 3
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -40.0
offset_top = -40.0
grow_horizontal = 0
grow_vertical = 0
script = ExtResource("13_kvuet")

[node name="TouchButtonLayer" type="CanvasLayer" parent="."]
offset = Vector2(80, -50)
transform = Transform2D(1, 0, 0, 1, 80, -50)

[node name="Control" type="Control" parent="TouchButtonLayer"]
layout_mode = 3
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -40.0
offset_right = 40.0
grow_vertical = 0
script = ExtResource("14_trtic")

[node name="asteroid_cooldown" type="Timer" parent="."]
one_shot = true

[connection signal="timeout" from="asteroid_cooldown" to="." method="_on_asteroid_cooldown_timeout"]
